<div class="container">

  <ng-container *ngIf="group; else loadingGroupBlock">

    <h1 class="title is-3 has-text-centered">Gruppe &quot;{{group.name}}&quot;: Neue Sitzung erstellen</h1>

    <skl-button-list-select
      label="Regelsatz:"
      [isValid]="submitted && !ruleSetId"
      [options]="ruleSets"
      (selected)="this.ruleSetId = $event.id">
    </skl-button-list-select>

    <hr>

    <skl-button-list-select
      label="1. Geber:"
      [isValid]="submitted && !firstDealerId"
      [options]="playersForDealer"
      (selected)="updateDealer($event.id)">
    </skl-button-list-select>

    <br>

    <skl-button-list-select
      *ngIf="firstDealerId"
      label="1. Vorhand:"
      [isValid]="submitted && !firstPreHandId"
      [options]="playersForPreHand"
      (selected)="updatePreHand($event.id)">
    </skl-button-list-select>

    <br>

    <skl-button-list-select
      *ngIf="firstPreHandId"
      label="1. Mittelhand"
      [isValid]="submitted && !firstMiddleHandId"
      [options]="playersForMiddleHand"
      (selected)="updateMiddleHand($event.id)">
    </skl-button-list-select>

    <br>

    <skl-button-list-select
      *ngIf="firstMiddleHandId"
      label="1. RÃ¼ckhand:"
      [isValid]="submitted && !firstRearHandId"
      [options]="playersForRearHand"
      (selected)="updateRearHand($event.id)">
    </skl-button-list-select>

    <hr>

    <button class="button is-link is-fullwidth" (click)="createSession()" [disabled]="createdSession">
      Sitzung starten
    </button>

    <br>

    <div class="notification is-primary" *ngIf="createdSession">
      Sitzung mit der ID {{createdSession.id}} wurde erstellt.
      <a [routerLink]="['../', 'sessions', createdSession.id]">Zur Sitzung</a>
    </div>

  </ng-container>

</div>

<ng-template #loadingGroupBlock>
  <div class="notification is-primary is-fullwidth">Lade Daten...</div>
</ng-template>
